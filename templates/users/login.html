{% block content %}
    {% load static %}
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/beercss@3.7.8/dist/cdn/beer.min.css" rel="stylesheet"/>
        <script type="module" src="https://cdn.jsdelivr.net/npm/beercss@3.7.8/dist/cdn/beer.min.js"></script>
        <script type="module"
                src="https://cdn.jsdelivr.net/npm/material-dynamic-colors@1.1.2/dist/cdn/material-dynamic-colors.min.js"></script>
        <title>ATL Food Finder</title>
        <style>
            .top-right {
                display: flex;
                position: absolute;
                top: 10px;
                right: 10px;
            }
            .searchbar {
                display: block;
                width: 40%;
            }
            body {
                background-image: url("{% static 'images/background.png' %}");
                background-repeat: no-repeat;
                background-size: cover;
            }
            /* New styles for alert messages */
            .alert {
                margin: 20px 0;
                padding: 10px;
                border-radius: 5px;
            }
            .alert-success {
                background-color: #d4edda;
                color: #155724;
            }
            .alert-error {
                background-color: #f8d7da;
                color: #721c24;
            }
        </style>
    </head>

    <body class="light">

    <nav class="top pink2">
        <a href="/foodFind/map/">
            <i>map</i>
            <div>Map</div>
        </a>
        <h5 class="max center-align">Atlanta Food Finder</h5>
        <a href="/foodFind/">
            <i>search</i>
            <div>Search</div>
        </a>
    </nav>

    <main class="responsive">
        <div class="responsive tiny-height"></div>
        <div class="padding">
            <article class="responsive large-padding center center-align pink1 large-round">
                <div class="padding">
                    <div class="grid">
                        <div class="s6">
                            <div class="padding">
                                <div class="responsive tiny-height"></div>
                                <h3 class="center-align middle-align">Login to your account</h3>
                                <p>or <a href="/users/register/" class="btn-register link">register</a></p>
                            </div>
                        </div>

                        <div class="s6">
                            <!-- Added message display logic -->
                            {% if messages %}
                                {% for message in messages %}
                                    <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}">
                                        {{ message }}
                                    </div>
                                {% endfor %}
                            {% endif %}
                            <form class="form-with-validation" action="/users/login/" method="post" id="loginform">
                                {% csrf_token %}
                                <div class="field label prefix border">
                                    <i>person</i>
                                    <input type="text" name="username" required id="id_username" placeholder=" ">
                                    <label>Username</label>
                                </div>
                                <div class="field label prefix border">
                                    <i>key</i>
                                    <input type="password" name="password" required id="id_password" placeholder=" ">
                                    <label>Password</label>
                                </div>
                                <button type="submit">Login</button>
                            </form>
                        </div>
                    </div>
                </div>
            </article>
        </div>
    </main>
    <script>
        // Function to hide alert messages after 3 seconds
        setTimeout(function() {
            const alerts = document.querySelectorAll('.alert');
            alerts.forEach(alert => {
                alert.style.display = 'none';
            });
        }, 3000);
    </script>
    </body>
    </html>
{% endblock %}
